
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Variables Instrumentales &#8212; Microeconometria Aplicada</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '10_IV';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Fundamentos de Probabilidad" href="1_Probabilidad.html" />
    <link rel="prev" title="Análisis Causal" href="9_ResultadosPotenciales.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Microeconometria Aplicada - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Microeconometria Aplicada - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Microeconometría Aplicada
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="0_Motivacion.html">Qué es la Microeconometría?</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_Regresion.html">Modelo de Regresión Lineal</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_Regresion.html">Modelo de Regresión Multiple</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_Supuestos.html">Evaluación de Supuestos</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_Respuesta_Cualitativa.html">Variables de Respuesta Cualitativa</a></li>

<li class="toctree-l1"><a class="reference internal" href="7_RepeatedCross.html">Modelo de Cortes Transversales Repetidos</a></li>
<li class="toctree-l1"><a class="reference internal" href="8_DatosPanel.html">Modelos de Datos Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="9_ResultadosPotenciales.html">Análisis Causal</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Variables Instrumentales</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Probabilidad.html">Fundamentos de Probabilidad</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_Estadistica.html">Fundamentos de Estadística</a></li>
<li class="toctree-l1"><a class="reference internal" href="Taller_1_Sol.html">Taller 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="Taller_2_Sol.html">Taller 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="Taller_3_Sol.html">Taller 3</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2F10_IV.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/10_IV.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Variables Instrumentales</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#relevancia-y-exogenidad-de-un-instrumento">Relevancia y Exogenidad de un Instrumento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicaciones">Aplicaciones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minimos-cuadrados-en-dos-etapas-mc2">Mínimos Cuadrados en Dos Etapas (MC2)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#propiedades-estadisticas-de-hat-beta-iv">Propiedades Estadisticas de <span class="math notranslate nohighlight">\(\hat\beta_{IV}\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validez-de-un-instrumento">Validez de un Instrumento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-sobreidentificacion-y-no-identificacion">Identificación, Sobreidentificación, y No Identificación</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prueba-de-sobreidentificacion">Prueba de Sobreidentificación</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="variables-instrumentales">
<h1>Variables Instrumentales<a class="headerlink" href="#variables-instrumentales" title="Link to this heading">#</a></h1>
<p>Suponga que estamos interesados en estudiar el efecto causal que tiene la variable <span class="math notranslate nohighlight">\(x\)</span> sobre la variable de resultado <span class="math notranslate nohighlight">\(y\)</span>. Para determinar esta relación causal usted cuenta con información para <span class="math notranslate nohighlight">\(n\)</span> individuos y quiere estimar la siguiente ecuación de regresión:</p>
<div class="math notranslate nohighlight">
\[y_i = \beta_0 + \beta_1 x_i + \varepsilon_i\]</div>
<p>Usted estima esta regresión a través de MCO. Sin embargo, usted sospecha que el supuesto de exogeneidad no se cumple, es decir:</p>
<div class="math notranslate nohighlight">
\[E(\varepsilon_i | x_i) \neq 0 \quad \Rightarrow \quad E(\hat\beta) \neq \beta\]</div>
<p>Múltiples razones pueden sugerir que el supuesto de exogenidad se viola. Algunas de ellas son:</p>
<ol class="arabic simple">
<li><p><strong>Omitir variables relevantes</strong>: factores (observables y no observables) que explican <span class="math notranslate nohighlight">\(y_i\)</span> y que se relaciona de manera importante con <span class="math notranslate nohighlight">\(x_i\)</span>.</p></li>
<li><p><strong>Error de medición</strong>: si en lugar de observar <span class="math notranslate nohighlight">\(x_i\)</span> solo podemos observar <span class="math notranslate nohighlight">\(x_i^* = x_i + \xi_i\)</span></p></li>
<li><p><strong>Simultaneidad o causalidad inversa</strong>: Si <span class="math notranslate nohighlight">\(x_i\)</span> afecta <span class="math notranslate nohighlight">\(y_i\)</span> y <span class="math notranslate nohighlight">\(y_i\)</span> afecta <span class="math notranslate nohighlight">\(x_i\)</span></p></li>
</ol>
<section id="relevancia-y-exogenidad-de-un-instrumento">
<h2>Relevancia y Exogenidad de un Instrumento<a class="headerlink" href="#relevancia-y-exogenidad-de-un-instrumento" title="Link to this heading">#</a></h2>
<p>El método de <strong>variables instrumentales</strong> (IV) es ampliamente usado por analístas e investigadores para estimar el efecto causal de <span class="math notranslate nohighlight">\(x_i\)</span> en <span class="math notranslate nohighlight">\(y_i\)</span>. Es decir, a través de esta estrategia podemos obtener <strong>estimadores consistentes</strong>.</p>
<p>El uso de este método requiere de una variable <span class="math notranslate nohighlight">\(z_i\)</span> o <strong>instrumento</strong> que cumple dos propiedades importantes:</p>
<ol class="arabic simple">
<li><p><strong>Relevancia</strong> : El instrumento <span class="math notranslate nohighlight">\(z_i\)</span> debe está fuertemente correlacionado con la variable endogena <span class="math notranslate nohighlight">\(x_i\)</span>. Es decir,</p></li>
</ol>
<div class="math notranslate nohighlight">
\[Cov(x_i, z_i) \neq 0\]</div>
<ol class="arabic simple" start="2">
<li><p><strong>Exogeneidad ó Restricción de Exclusión</strong>: El instrumento <span class="math notranslate nohighlight">\(z_i\)</span> debe ser cuasi-aletorio (<em>as good as random</em>) y solo debe afectar a <span class="math notranslate nohighlight">\(y_i\)</span> a través de <span class="math notranslate nohighlight">\(x_i\)</span>. Es decir,</p></li>
</ol>
<div class="math notranslate nohighlight">
\[Cov(\varepsilon_i, z_i) = 0 \quad \Rightarrow \quad \beta_1 = \frac{Cov(y_i, z_i)}{Cov(x_i, z_i)}\]</div>
<p>Cabe mencionar que la primera condición se puede probar de manera empírica. Sin embargo, para la segunda condición no existe una prueba formal que nos permita determinar si el instrumento es cuasi-aleatorio.</p>
</section>
<section id="aplicaciones">
<h2>Aplicaciones<a class="headerlink" href="#aplicaciones" title="Link to this heading">#</a></h2>
<ul>
<li><p><strong>Angrist (1990 AER)</strong>: Este documento estudia las consecuencias de haber prestado servicio militar en la guerra de Vietnam sobre los ingresos laborales.</p>
<p><span class="math notranslate nohighlight">\(y_i\)</span> son ingresos, <span class="math notranslate nohighlight">\(x_i\)</span> es el estatus de veterano, <span class="math notranslate nohighlight">\(z_i\)</span> es la elegibilidad para servir en la guerra a partir de una lotería.</p>
</li>
<li><p><strong>Angrist y Krueger (1991 QJE)</strong>: Estudian el efecto de la educación sobre los salarios. En Estados Unidos y muchos otros paises, los estudiantes solo pueden ingresar al primer grado del sistema educativo a partir de cierta edad (5 años al 1 de Sep). Además, es obligatorio que los estudiantes estén hasta los 16 años en el sistema educativo.</p>
<p><span class="math notranslate nohighlight">\(y_i\)</span> son salarios, <span class="math notranslate nohighlight">\(x_i\)</span> los años de educación completa, <span class="math notranslate nohighlight">\(z_i\)</span> es el trimestre de nacimiento (1 = Ene-Ago, 0 = Sep-Dic). Observe que si <span class="math notranslate nohighlight">\(z_i = 1\)</span>, el individuo es obligado a completar mas años educativos antes de poder desertar.</p>
</li>
<li><p><strong>Angrist, Graddy, e Imbens (2000 RESTUD)</strong>: Estiman una función de demanda a partir de precios y cantidades vendidas de un producto. Sin embargo, estimar la función de demanda usando esta información tiene problemas de causalidad inversa. Observe que los precios están determinados por la demanda y la oferta al mismo tiempo.</p>
<p><span class="math notranslate nohighlight">\(y_i\)</span> son cantidades de merluza fresca en el Fulton Fish Market, <span class="math notranslate nohighlight">\(x_i\)</span> es el precio, <span class="math notranslate nohighlight">\(z_i\)</span> es una variable de condiciones climáticas en el mar (viento o temperatura) que afectan la oferta en el mercado.</p>
</li>
</ul>
</section>
<section id="minimos-cuadrados-en-dos-etapas-mc2">
<h2>Mínimos Cuadrados en Dos Etapas (MC2)<a class="headerlink" href="#minimos-cuadrados-en-dos-etapas-mc2" title="Link to this heading">#</a></h2>
<p>Para estimar el modelo de variables instrumentales se realiza un proceso secuencial. Recuerde que nos interesa estimar el efecto causal de la variable <span class="math notranslate nohighlight">\(x_i\)</span> en <span class="math notranslate nohighlight">\(y_i\)</span> a partir de la siguiente función de regresión:</p>
<div class="math notranslate nohighlight">
\[y_i = \beta_0 + \beta_1 x_i + \varepsilon_i\]</div>
<p>Para ello procedemos en dos etapas:</p>
<ul class="simple">
<li><p><strong>Primera Etapa</strong>: estimar <span class="math notranslate nohighlight">\(x_i\)</span> usando la variable instrumental <span class="math notranslate nohighlight">\(z_i\)</span>. Si <span class="math notranslate nohighlight">\(Cov(z_i, \varepsilon_i) = 0\)</span>, entonces <span class="math notranslate nohighlight">\(\hat x_i\)</span> contiene variacion que no esta relacionada con <span class="math notranslate nohighlight">\(\varepsilon_i\)</span>.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[x_i = \pi_0 + \pi_1 z_i + u_i\]</div>
<ul class="simple">
<li><p><strong>Segunda Etapa</strong>: estimar <span class="math notranslate nohighlight">\(y_i\)</span> usando los valores predichos <span class="math notranslate nohighlight">\(\hat x_i\)</span>.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[y_i = \alpha + \beta \hat x_i + \eta_i\]</div>
<p>Observe que el estimador de <span class="math notranslate nohighlight">\(\beta\)</span> se puede escribir como:</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} = \frac{\sum_i^n(y_i - \bar y)(\hat x_i - \bar{\hat x})}{\sum_i^n(\hat x_i - \bar{\hat x})^2}\]</div>
<p>Note ademas que</p>
<div class="math notranslate nohighlight">
\[\hat x_i - \bar{\hat x} = \hat\pi_1 (z_i - \bar z)\]</div>
<p>Entonces</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} = \frac{\sum_i^n(y_i - \bar y)\hat\pi_1 (z_i - \bar z)}{\sum_i^n\hat\pi_1^2 (z_i - \bar z)^2} = \frac{1}{\hat\pi_1} \frac{\sum_i^n(y_i - \bar y)(z_i - \bar z)}{\sum_i^n(z_i - \bar z)^2} = \frac{\sum_i^n(z_i - \bar z)^2}{\sum_i^n (x_i - \bar x) (z_i - \bar z)} \frac{\sum_i^n(y_i - \bar y)(z_i - \bar z)}{\sum_i^n(z_i - \bar z)^2}\]</div>
<p>Finalmente, el estimador de <span class="math notranslate nohighlight">\(\beta_1\)</span> en 2 etapas esta dado por:</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} = \frac{\sum_i^n(y_i - \bar y)(z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)} = \frac{\hat Cov(y_i, z_i)}{\hat Cov(x_i, z_i)}\]</div>
</section>
<section id="propiedades-estadisticas-de-hat-beta-iv">
<h2>Propiedades Estadisticas de <span class="math notranslate nohighlight">\(\hat\beta_{IV}\)</span><a class="headerlink" href="#propiedades-estadisticas-de-hat-beta-iv" title="Link to this heading">#</a></h2>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
E(\hat\beta_{IV}) &amp; = E\left(\frac{\sum_i^n(y_i - \bar y)(z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right) \\
&amp; =  E\left(\frac{\sum_i^n [(\beta_0 + \beta_1 x_i + \varepsilon_i) - (\beta_0 + \beta_1 \bar x + \bar \varepsilon)] (z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right) \\
&amp; =  E\left(\frac{\sum_i^n [(\beta_1 (x_i - \bar x) + (\varepsilon_i - \bar \varepsilon)] (z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right) \\
&amp; =  E\left(\frac{\beta_1 \sum_i^n (x_i - \bar x)(z_i - \bar z) + \sum_i^n (\varepsilon_i - \bar \varepsilon) (z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right) \\
&amp; = \beta_1 +  E\left(\frac{\sum_i^n \varepsilon_i (z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right)
\end{align*}\]</div>
<p>Observe que la condicion de exogeniedad del instrumento implica que <span class="math notranslate nohighlight">\(Cov(\varepsilon_i, z_i) = 0\)</span>, pero no implica que <span class="math notranslate nohighlight">\(E(\varepsilon_i | z_i, x_i) = 0\)</span>. Entonces,</p>
<div class="math notranslate nohighlight">
\[E\left(\frac{\sum_i^n \varepsilon_i (z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right) = E\left(\frac{\sum_i^n E(\varepsilon_i | z_i, x_i) (z_i - \bar z)}{\sum_i^n (x_i - \bar x) (z_i - \bar z)}\right) \neq 0\]</div>
<p>Es decir, el estimador de minimos cuadrados en dos etapas es sesgado</p>
<div class="math notranslate nohighlight">
\[E(\hat\beta_{IV}) \neq \beta\]</div>
<p>Sin embargo, el estimador es consistente:</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} = \frac{\hat Cov(y_i, z_i)}{\hat Cov(x_i, z_i)} \overset{p}{\to}  \frac{Cov(y_i, z_i)}{Cov(x_i, z_i)} = \beta_1\]</div>
<p>Se puede demostrar que</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} \overset{d}{\to} N(\beta, \sigma^2_{\beta_{IV}}) \quad \text{ donde } \quad \sigma^2_{\beta_{IV}} = \frac{1}{n}\frac{V \left((z_i - \mu_z) \varepsilon_i\right)}{\left(Cov(x_i, z_i)\right)^2}\]</div>
<p>La varianza de <span class="math notranslate nohighlight">\(\hat\beta_{IV}\)</span> se puede estimar a partir de la estimacion de la varianza y covarianza de los términos que aparecen en la expresión anterior:</p>
<div class="math notranslate nohighlight">
\[se(\hat\beta_{IV}) = \sqrt{\frac{\frac{1}{n} \sum (z_i - \bar z)^2 \hat\varepsilon_i^2}{n \left(\frac{1}{n} \sum (z_i - \bar z) x_i \right)^2}}\]</div>
<p>Ya que en grandes muestras <span class="math notranslate nohighlight">\(\hat\beta_{IV}\)</span> se distribuye normal, podemos realizar pruebas de hipotesis computando el <em>t-estadistico</em> y el intervalo de confianza dado por</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} \pm t_{\frac{\alpha}{2}, n - k_2 - 1} \cdot SE(\hat\beta_{IV})\]</div>
<p>donde <span class="math notranslate nohighlight">\(\alpha\)</span> es el nivel de significancia elegido por el analista, <span class="math notranslate nohighlight">\(n\)</span> es el numero de observaciones, y <span class="math notranslate nohighlight">\(k_2\)</span> es el numero de variables incluidas en la segunda etapa.</p>
</section>
<section id="validez-de-un-instrumento">
<h2>Validez de un Instrumento<a class="headerlink" href="#validez-de-un-instrumento" title="Link to this heading">#</a></h2>
<p>Argumentar que un instrumento es válido es un ejercicio de suma importancia. La validez dependerá de si los supuestos se cumplen o no.</p>
<p>Recordemos que</p>
<div class="math notranslate nohighlight">
\[\hat\beta_{IV} \overset{d}{\to} \beta_1 + \frac{Cov(y_i, z_i)}{Cov(x_i, z_i)}\]</div>
<p>Observe que si <span class="math notranslate nohighlight">\(Cov(x_i, z_i) \approx 0\)</span>, entonces el estimador de variables instrumentales será inconsistente. En otras palabras, tener un <strong>instrumento débil</strong> o irrelevante puede agravar el problema por el cual estamos implementando este método.</p>
<p>Stock y Yogo (2005) muestran que</p>
<div class="math notranslate nohighlight">
\[E(\hat\beta_{IV}) - \beta_1 = \frac{E(\hat\beta_{MCO}) -  \beta_1}{E(F)-1}\]</div>
<p>Donde <span class="math notranslate nohighlight">\(E(F)\)</span> es la esperanza del estadístico <em>F</em> de la primera etapa. Entonces, si <span class="math notranslate nohighlight">\(E(F) = 10\)</span> (<strong>regla de oro</strong>), el sesgo de mínimos cuadrados en dos etapas, relativo al sesgo de MCO, es approximadamente <span class="math notranslate nohighlight">\(1/9\)</span>, lo cual es suficientemente aceptable.</p>
<p>Note además que si el <strong>instrumento no es exogeno</strong>, entonces el estimador será inconsistente.</p>
<p>Sin embargo, no existe una prueba formal que permita concluir si el instrumento <span class="math notranslate nohighlight">\(z_i\)</span> es exogeno o no. Por lo tanto, el analista debe justificar/argumentar por qué el instrumento no se correlaciona con el término de error. Esto requiere conocimiento detallado de la aplicación o contexto estudiado.</p>
<p>En ocasiones, la variable instrumental es el resultado de una lotería o proceso aleatorio. En este tipo de situaciones, justificar que el instrumento es exogeno es relativamente sencillo. Más aún, los resultados de este ejercicio son bastante creibles.</p>
</section>
<section id="identificacion-sobreidentificacion-y-no-identificacion">
<h2>Identificación, Sobreidentificación, y No Identificación<a class="headerlink" href="#identificacion-sobreidentificacion-y-no-identificacion" title="Link to this heading">#</a></h2>
<p>Observe que para estimar el modelo de variables instrumentales requerimos igual o mayor número de instrumentos (<span class="math notranslate nohighlight">\(m\)</span>) que número de variables endogenas (<span class="math notranslate nohighlight">\(k\)</span>).</p>
<p>La relación entre estas variables dan lugar a la siguiente terminología:</p>
<ul class="simple">
<li><p>modelo identificado: <span class="math notranslate nohighlight">\(m = k\)</span></p></li>
<li><p>modelo sobreidentificado: <span class="math notranslate nohighlight">\(m &gt; k\)</span></p></li>
<li><p>modelo no indetificado: <span class="math notranslate nohighlight">\(m &lt; k\)</span></p></li>
</ul>
<p>Si nuestro modelo está sobreidentificado existe una prueba de hipotesis formal que nos permite determinar si en realidad nuestros instrumentos son exogenos.</p>
<p>De manera intuitiva, se computa mínimos cuadrados en dos etapas de manera independiente y se comparan los resultados de ambas estimaciones. Si los resultados obtenidos se alejan mucho, entonces es posible que uno o ambos instrumentos no sea exogeno.</p>
</section>
<section id="prueba-de-sobreidentificacion">
<h2>Prueba de Sobreidentificación<a class="headerlink" href="#prueba-de-sobreidentificacion" title="Link to this heading">#</a></h2>
<p>Nuestro modelo multivariado está dado por:</p>
<div class="math notranslate nohighlight">
\[y_i = \beta_0 + \beta_1 x_{1i} + \beta_2 x_{2i} + ... + \beta_k x_{1i} + \beta_{k+1} w_{1i} + ... + \beta_{k+r} w_{ri} + \varepsilon_i\]</div>
<p>Donde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y_i\)</span> es la variable dependiente</p></li>
<li><p><span class="math notranslate nohighlight">\(x_{1i}, ..., x_{ki}\)</span> son <span class="math notranslate nohighlight">\(k\)</span> regresores endogenos</p></li>
<li><p><span class="math notranslate nohighlight">\(w_{1i}, ..., w_{ri}\)</span> son <span class="math notranslate nohighlight">\(r\)</span> regresores exogenos</p></li>
<li><p><span class="math notranslate nohighlight">\(z_{1i}, ..., z_{mi}\)</span> son <span class="math notranslate nohighlight">\(m\)</span> instrumentos</p></li>
<li><p><span class="math notranslate nohighlight">\(\varepsilon_i\)</span> es el término de error</p></li>
</ul>
<p>Usando los <span class="math notranslate nohighlight">\(m\)</span> instrumentos y el método de mínimos cuadrados en dos etapas estimamos el siguiente modelo</p>
<div class="math notranslate nohighlight">
\[y_i = \beta_0 + \beta_1 \hat x_{1i} + \beta_2 \hat x_{2i} + ... + \beta_k \hat x_{1i} + \beta_{k+1} w_{1i} + ... + \beta_{k+r} w_{ri} + \varepsilon_i\]</div>
<p>A partir de estos resultados estimamos <span class="math notranslate nohighlight">\(\hat\varepsilon_i\)</span> y corremos la siguiente regresión:</p>
<div class="math notranslate nohighlight">
\[\hat\varepsilon_i = \delta_0 + \delta_1 z_{1i} + ... + \delta_m z_{mi} + \delta_{k+1} w_{1i} + ... + \delta_{k+r} w_{ri} + u_i\]</div>
<p>Nuestra prueba de hipótesis está dada por:</p>
<div class="math notranslate nohighlight">
\[H_0: \delta_1 = ... = \delta_m = 0\]</div>
<p>Finalmente el estadístico de prueba de sobreidentificación es</p>
<div class="math notranslate nohighlight">
\[J = m F \overset{d}{\to} \chi^2_{m - k}\]</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            name: "ir",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="9_ResultadosPotenciales.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Análisis Causal</p>
      </div>
    </a>
    <a class="right-next"
       href="1_Probabilidad.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Fundamentos de Probabilidad</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#relevancia-y-exogenidad-de-un-instrumento">Relevancia y Exogenidad de un Instrumento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicaciones">Aplicaciones</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minimos-cuadrados-en-dos-etapas-mc2">Mínimos Cuadrados en Dos Etapas (MC2)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#propiedades-estadisticas-de-hat-beta-iv">Propiedades Estadisticas de <span class="math notranslate nohighlight">\(\hat\beta_{IV}\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validez-de-un-instrumento">Validez de un Instrumento</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-sobreidentificacion-y-no-identificacion">Identificación, Sobreidentificación, y No Identificación</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prueba-de-sobreidentificacion">Prueba de Sobreidentificación</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Sebastian Montano
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>